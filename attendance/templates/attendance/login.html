{% extends 'attendance/base.html' %}
{% load static %}

{% block title %}Вход в систему{% endblock %}
{% block extra_head %}
    <link rel="stylesheet" href="{% static 'attendance/css/login.css' %}">
{% endblock %}

{% block content %}
<div class="card card-narrow">
    <div class="card-header">
        <h1>Вход</h1>
        <p class="card-subtitle">Авторизуйтесь, чтобы работать с посещаемостью.</p>
    </div>

    <form method="post">
        {% csrf_token %}

        <div class="form-group">
            <label for="id_username">Имя пользователя</label>
            <input type="text"
                   name="username"
                   autofocus
                   required
                   id="id_username"
                   class="input input-full">
        </div>

        <div class="form-group">
            <label for="id_password">Пароль</label>

            <div class="password-field">
                <input type="password"
                       name="password"
                       required
                       id="id_password"
                       class="input input-full input-with-icon">

                <button type="button"
                        class="password-toggle"
                        aria-label="Показать пароль"
                        aria-pressed="false"
                        data-target="id_password">
                    <i class="bi bi-eye"></i>
                </button>
            </div>
        </div>

        {% if form.errors %}
            <div class="alert alert-danger">
                Неверное имя пользователя или пароль.
            </div>
        {% endif %}

        <div class="form-actions" style="display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap;">
            <button type="submit" class="btn btn-primary">Войти</button>
            <a href="{% url 'substitute_login' %}" class="btn btn-outline">Вы заменяете?</a>
        </div>
    </form>
</div>

{% block script %}
    <script src="{% static 'attendance/js/login.js' %}"></script>
{% endblock %}
{% endblock %}